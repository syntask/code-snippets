<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hover Button</title>
    <style>

        /* Example button styles */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2em;
        }
        .wrapper{
            display: flex;
            gap: 2em;
        }
        .button{
            font-size: 1em;
            font-family: 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            font-weight: 700;
            display: inline-block;
            padding: 1em 2em;
            border: none;
            border-radius: 999px;
            cursor: pointer;
        }

        .button-primary{
            background-color: #0077ff;
            color: white;
        }

        .button-secondary{
            background-color: #79b6fa;
            color: #004088;
        }

        img {
            border-radius: 24px;
        }


        /* Optional styles for more iPad-like appearance */

        .dynamic-button {
            cursor: none;
        }
        /* Optional styles for more iPad-like appearance */



        /* REQUIRED STYLES */
        .dynamic-button {
            position: relative;
            z-index: 0;
        }
        .dynamic-button::after{
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: inherit;
            z-index: 2;
            background-image: radial-gradient(circle at var(--db-highlight-x) var(--db-highlight-y), rgba(255,255,255,.25), rgba(255,255,255,0) 125%);
            transition: opacity .6s;
            opacity: 0;
        }
        .dynamic-button--hover::after{
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: inherit;
            z-index: 2;
            background-image: radial-gradient(circle at var(--db-highlight-x) var(--db-highlight-y), rgba(255,255,255,.25), rgba(255,255,255,0) 125%);
            transition: opacity 0.3s;
            opacity: 1;
        }
        /* REQUIRED STYLES */
    </style>
</head>
<body>
    <!-- To use, simply add the 'dynamic-button' class to your button tags or any other item you wish-->
    <div class="wrapper">
        <div class="dynamic-button" style="height: 150px; width: 150px; border-radius: 12px; background-image: url(img.jpg);"></div>
    </div>
    
    <div class="wrapper">
        <button class="button button-primary dynamic-button">Primary button</button>
        <button class="button button-secondary dynamic-button">Secondary button</button>
    </div>


    <script>
        // REQUIRED SCRIPT
        document.addEventListener('DOMContentLoaded', function() {
            const dynamicButtons = document.querySelectorAll('.dynamic-button');
            for (const button of dynamicButtons) {
                button.addEventListener('mouseenter', function() {
                    this.classList.add('dynamic-button--hover');
                    this.style.transition = 'box-shadow 0.4s';
                    const moveableElement = this;
                    let originX = moveableElement.getBoundingClientRect().left;
                    let originY = moveableElement.getBoundingClientRect().top;
    
                    let offsetX = 0;
                    let offsetY = 0;
    
                    let x
                    let y
    
                    const onMouseMove = function(e) {
                        const rect = moveableElement.getBoundingClientRect();
                        x = e.clientX - originX; // X position within the element
                        y = e.clientY - originY;  // Y position within the element
                
                        const maxXOffset = rect.width / 30; // Maximum offset in pixels
                        const maxYOffset = rect.height / 30; // Maximum offset in pixels
                
                        let targetOffsetX = (x / rect.width) * maxXOffset - maxXOffset / 2;
                        let targetOffsetY = (y / rect.height) * maxYOffset - maxYOffset / 2;
    
                        // Smoothly move the element towards the target position
                        offsetX += (targetOffsetX - offsetX) * 0.3;
                        offsetY += (targetOffsetY - offsetY) * 0.3;
    
                        offsetXratio = offsetX / maxXOffset;
                        offsetYratio = offsetY / maxYOffset;
                
                        moveableElement.style.transform = `perspective(20px) rotateX(calc(${offsetYratio} * 1deg)) rotateY(calc(${offsetXratio} * -1deg)) translate(${offsetX}px, ${offsetY}px) scale(1.0)`;
    
                        moveableElement.style.setProperty('--db-highlight-x', `${x}px`);
                        moveableElement.style.setProperty('--db-highlight-y', `${y}px`);
    
                        this.style.setProperty('box-shadow', `0 0 24px 0px rgba(0,0,0,0.15)`);
                        this.style.setProperty('z-index', '1');
    
                    };
                
                    moveableElement.addEventListener('mousemove', onMouseMove);
                
                    moveableElement.addEventListener('mouseleave', function() {
                        moveableElement.removeEventListener('mousemove', onMouseMove);
                        this.style.transition = 'transform 0.4s, box-shadow .4s';
                        this.style.transform = `translate(0px, 0px) scale(1.0)`;
                        this.style.setProperty('box-shadow', `0 0 16px 0px rgba(0,0,0,0)`);
                        this.style.setProperty('z-index', '');
                        this.classList.remove('dynamic-button--hover');
    
                        
                    });
                });
            }
        });
    </script>
</body>
</html>